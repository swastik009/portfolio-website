$(document).ready(function(){$("#alert-box").fadeIn(),$("#main-content").hide(),$("#alert-accept").click(function(){$("#alert-box").hide(),$("#main-content").fadeIn(),$("#win98-startup")[0].play(),$(".desktop-icon").hide(),$(".desktop-icon").each(function(e,t){const i=500,n=1e3,o=Math.floor(Math.random()*(n-i+1))+i;setTimeout(()=>{$(t).show()},o)}),clippy.load("Clippy",function(e){setTimeout(()=>{e.show(),e.play("Greeting"),e.speak("Itâ€™s me, Clippy! I once tried to help with Word documents. Now I mostly help trigger flashbacks. You're welcome!"),setInterval(()=>{e.animate()},1e4)},1500)})}),$(window).width()<=1024&&($("#alert-accept").hide(),$("input[name='username']").closest("div").hide(),$("input[name='password']").closest("div").hide(),$(".alert-message > div:first").html("Looks like this Windows version wasnâ€™t built for pocket-sized supercomputers.<br>For the full retro vibes, try checking it out on a desktop.<br><br>But hey, since you made it here, feel free to browse the resume anyway ðŸ“„ðŸ˜‰"),$(".alert-header").text("Warning: Your device is smarter than this site"),$("button:contains('Resume')").css({padding:"12px 24px","font-size":"16px","font-weight":"bold"}));let e=1e3;$("#taskbar-sound-on").on("click",function(){$("#taskbar-sound-on").hide(),$("#taskbar-sound-mute").show(),$("audio").each(function(){this.pause(),this.currentTime=0})}),$("#taskbar-sound-mute").on("click",function(){$("#taskbar-sound-mute").hide(),$("#taskbar-sound-on").show()});const t="./assets/files/resume.pdf";function i(){const e=(new Date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});$(".taskbar-time").text(e)}function n(){$(".left-pane-content-inactive").show(),$(".left-pane-content-active").hide(),$(".status-details-selected").hide(),$(".status-details-no-selection").show()}function o(e){$(".window-header").addClass("inactive"),e.removeClass("inactive")}function s(e){return"biography"===e?"/icons/my_computer.png":"resume"===e?"/icons/docs.png":"/icons/folder.png"}window.downloadResume=function(){const e=document.createElement("a");e.href=t,e.download="Swastik_Resume.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e)},window.viewResume=function(){window.open(t,"_blank")},setInterval(i,1e3),i(),$(".desktop-icon").on("click",function(e){$(".desktop-icon").removeClass("selected"),$(this).addClass("selected"),$(".folder-item").removeClass("selected"),n(),e.stopPropagation()}),$("body").on("click",function(){$(".desktop-icon").removeClass("selected"),$(".folder-item").removeClass("selected"),n()}),$(".start-button").click(function(e){$(".folder-item").removeClass("selected"),n(),$(".window-header").addClass("inactive"),$("#start-menu").toggle(),$("#start-menu").is(":visible")?$(this).addClass("start-button-active"):$(this).removeClass("start-button-active"),$(".taskbar-item").removeClass("active"),e.stopPropagation()}),$(".desktop-icon").click(function(){$(".window-header").addClass("inactive"),$(".taskbar-item").removeClass("active")}),$(document).click(function(){$(".start-button").removeClass("start-button-active"),$("#start-menu").hide()}),$("#start-menu").click(function(e){e.stopPropagation()}),window.openWindow=function(t){const i=document.getElementById(`${t}-content`);if(!i)return void console.error(`Content div for id "${t}" not found.`);const a=i.getAttribute("data-title"),d=i.innerHTML;let c=800,l=600,r="window-content",h="",m="",u="",w="",p="";"biography"===t&&(r="window-biography-content",h="window-resizeable-none",u="maximize",m="disabled",c=640,l=360,w="biography-window-icon",p="biography-window-title"),"resume"===t&&(r="window-resume-content");let f=$(window).width()-c,b=$(window).height()-l,v=Math.random()*f,g=Math.random()*b,k=s(t);const y=`\n      <div class="window ${h}" id="window-${t}" style="left: ${v}px; top: ${g}px; width: ${c}px; height: ${l}px; z-index: ${e++};">\n        <div class="window-header">\n          <div class="title-bar">\n            <img src="${k}" alt="Icon" class="window-icon ${w}">\n            <span class="${p}">${a}</span>\n          </div>\n          <div class="window-controls">\n            <button class="control-button minimize"></button>\n            <button class="control-button maximize" ${u} ${m}></button>\n            <button class="control-button close"></button>\n          </div>\n        </div>\n        <div class="${r}">\n          ${d}\n        </div>\n      </div>`,C=$(`#window-${t}`),x=$(`#window-${t} .window-header`);if(C.length)return C.show().css("z-index",e++),o(x),void function(e){$(".taskbar-item").removeClass("active"),$(`.taskbar-item[data-window="${e}"]`).addClass("active"),$(`.taskbar-item[data-window="${e}"]`).css("display","flex")}(t);const z=$(y).appendTo("body"),I=z.find(".folder-item").length;$(".status-details-selected").hide(),$(".status-details-no-selection").html(`${I} object(s)`),n(),$(".folder-item").on("click",function(e){$(".desktop-icon").removeClass("selected"),$(".folder-item").removeClass("selected"),$(this).addClass("selected");const t=$(this);let i=t.data("title"),n=t.data("created"),o=t.data("description");const s=$(this).closest(".window").find(".left-pane-content");s.find("#left-pane-content-header").html(i),s.find("#left-pane-content-created").html(n),s.find("#left-pane-content-description").html(o),$(".status-details-selected").show(),$(".status-details-no-selection").hide(),$(".left-pane-content-inactive").hide(),$(".left-pane-content-active").show(),e.stopPropagation()});const T=z.find(".window-header");o(T),z.draggable({handle:".window-header",containment:"window",stack:".window"}),h||z.resizable({minWidth:200,minHeight:200,containment:"window"}),z.on("mousedown",function(){z.css("z-index",e++),o(T),$(".taskbar-item").removeClass("active"),$(`.taskbar-item[data-window="${t}"]`).addClass("active")});let M=s(t);const O=$(`<div class="taskbar-item" data-window="${t}">\n      <img class="${w}" style="height: 18px; width: 20px; padding-right: 5px;" src="${M}">\n      <span class="${p}">${a}</span>\n    </div>`).appendTo(".taskbar-icons");"biography"===t&&("DoomGuy"===$("#biography-title").text()||($("#desktop-icon-biography").fadeOut(1e3,function(){$(this).attr("src","icons/doomguy.gif").fadeIn(2e3)}),$(".biography-window-icon").fadeOut(1e3,function(){$(this).attr("src","icons/doomguy.gif").fadeIn(2e3)}),$(".biography-window-title").fadeOut(1e3,function(){$(this).text("Doom.exe").hide().fadeIn(2e3)}),$("#biography-title").fadeOut(1e3,function(){$(this).text("Doom.exe").hide().fadeIn(2e3)}))),$(".taskbar-item").removeClass("active"),O.addClass("active"),O.on("click",function(){$(".taskbar-item").removeClass("active"),$(this).addClass("active"),z.is(":visible")?z.css("z-index",e++):z.show().css("z-index",e++),o(T)}),z.find(".minimize").on("click",function(){z.hide(),O.removeClass("active"),o(T)}),z.find(".close").on("click",function(){z.remove(),O.remove(),"biography"===t&&($("#desktop-icon-biography").fadeOut(2e3,function(){$(this).attr("src","icons/my_computer.png").fadeIn(3e3)}),$("#biography-title").fadeOut(2e3,function(){$(this).text("My Computer").hide().fadeIn(3e3)}))}),z.find(".maximize:not(:disabled)").on("click",function(){if(z.hasClass("maximized")){const e=z.data("original");z.css({left:e.left,top:e.top,width:e.width,height:e.height}),z.removeClass("maximized")}else z.data("original",{left:z.css("left"),top:z.css("top"),width:z.css("width"),height:z.css("height")}),z.css({left:0,top:0,width:"100%",height:"95%"}),z.addClass("maximized")})}});